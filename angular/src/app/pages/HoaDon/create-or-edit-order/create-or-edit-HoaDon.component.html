<div bsModal #modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createOrEditModal"
  aria-hidden="true" style="margin-top: 3%;">
  <div class="modal-dialog tmss-modal-md">
    <div class="modal-content tmss-modal">
      <div class="tmss-modal-header">
        <h6 class="modal-title">
          <p> Hóa đơn </p>
        </h6>
        <button type="button" class="close" aria-label="Close" (click)="hide()">
          <span class="tmss-close" aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">

        <div class="row mt-1">
          <div class="col-4">
            <tmss-text-input [text]="'mã hóa đơn'" [disabled]="true" [(ngModel)]="HoaDon.MAHD"></tmss-text-input>
          </div>
          <div class="col-4">
            <tmss-text-input [text]="'nhân viên'" [disabled]="true"  [(ngModel)]="HoaDon.NGUOILAPHD"></tmss-text-input>
          </div>
          <div class="col-4">
            <tmss-datepicker [text]="'ngày lập'" [disabled]="true" [(ngModel)]="HoaDon.NGAYLAP"></tmss-datepicker>
          </div>
        </div>
        <div class="row mt-1">
          <div class="col-12">
            <tmss-combobox [text]="'tên khách hàng '" [items]="customers" [(ngModel)]="HoaDon.MAKH"></tmss-combobox>
          </div>
        </div>
        <div class="row mt-1">
          <div class="col-6">
            <tmss-text-input [text]="'mã khuyến mại'" (ngModelChange)="changeDispriceCode($event)" [(ngModel)]="HoaDon.MAKM"></tmss-text-input>
          </div>
          <div class="col-6">
            <tmss-text-input [text]="'giá khuyến mại'" [disabled]="true" [(ngModel)]="giaKhuyenMai"></tmss-text-input>
          </div>

        </div>
        <h6 class="card-header" style="display:flex">
          <div class="col-7" style="padding-top:5px">
            {{ "Danh sách hóa đơn" }}
          </div>
          <div class="col-5 text-right">
            <button class="tmss-btn btn-outline-primary" style="margin: 0" (click)="addrow()">
              <i class="fa tmss-fa fa-plus"></i>
              <span class="ml-1">thêm sản phẩm</span>
            </button>
            <button class="tmss-btn btn-outline-danger" style="margin: 0" (click)="deleterow()" [disabled]="!selectedData">
              <i class="fa tmss-fa fa-eye"></i>
              <span class="ml-1">xóa sản phẩm</span>
            </button>
          </div>
        </h6>

        <div class="row mt-1">
          <div class="col-12">
            <grid-table [columnDefs]="detailColDef" [rowData]="rowDataDetail" (callBackEvent)="callBackEvent($event)"
               [showPagination]="false" [defaultColDef]="defaultColDef" (onChangeSelection)="onChangeSelection($event)"(onSearch)="searchByEnter($event)"
              [height]="'200px'" >
            </grid-table>
          </div>

        </div>

        <div class="row mt-1">
          <div class="col-6">

          </div>
          <div class="col-6">
            <tmss-text-input [text]="'tổng'"  [(ngModel)]="HoaDon.tong"></tmss-text-input>
          </div>

        </div>




      </div>

      <div class="ui-g-12 text-right mt-1 mr-2 mb-1">
        <button class="tmss-btn btn-outline-primary mr-2 mt-1 col-2" (click)="createOrEdit()">
          <i class="fa tmss-fa fa-save"></i>
          <span class="ml-1">Lưu</span>
        </button>
        <button class="tmss-btn btn-outline-danger mr-2 mt-1 col-2" (click)="hide()">
          <i class="fa tmss-fa fa-times"></i>
          <span class="ml-1">Hủy</span>
        </button>
      </div>
    </div>
  </div>
</div>

<app-select-product #selectProduct (modalSave)="modalSaveProduct($event)"></app-select-product>
